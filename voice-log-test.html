<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>èªéŸ³è­˜åˆ¥éŒ¯èª¤æ—¥èªŒæ¸¬è©¦</title>
    <meta name="description" content="èªéŸ³è­˜åˆ¥éŒ¯èª¤æ—¥èªŒåŠŸèƒ½æ¸¬è©¦é é¢">

    <!-- iOSå„ªåŒ– -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="èªéŸ³æ—¥èªŒæ¸¬è©¦">

    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            background: #fafafa;
        }

        .section h2 {
            color: #4facfe;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #4facfe;
        }

        .btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
        }

        .log-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .log-table th {
            background: #4facfe;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }

        .log-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #eee;
        }

        .log-table tr:hover {
            background: #f8f9fa;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .stats-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .stats-card h3 {
            color: #4facfe;
            margin-bottom: 15px;
        }

        .stats-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .stats-item:last-child {
            border-bottom: none;
        }

        .no-data {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 30px;
        }

        .auto-test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4facfe;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s;
        }

        .toast.show {
            transform: translateX(0);
        }

        .log-count {
            background: #4facfe;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
            margin-left: 10px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }

            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }

            .auto-test-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .log-table {
                font-size: 14px;
            }

            .log-table th,
            .log-table td {
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤ èªéŸ³è­˜åˆ¥éŒ¯èª¤æ—¥èªŒæ¸¬è©¦</h1>
            <p>æ¸¬è©¦èªéŸ³è­˜åˆ¥éŒ¯èª¤è¨˜éŒ„ç³»çµ±åŠŸèƒ½</p>
        </div>

        <div class="content">
            <!-- æ‰‹å‹•æ¨¡æ“¬å€åŸŸ -->
            <div class="section">
                <h2>ğŸ“ æ‰‹å‹•æ¨¡æ“¬éŒ¯èª¤</h2>
                <div class="form-group">
                    <label for="correct-answer">æ­£ç¢ºç­”æ¡ˆï¼š</label>
                    <input type="number" id="correct-answer" placeholder="ä¾‹å¦‚ï¼š8" min="1" max="99">
                </div>
                <div class="form-group">
                    <label for="recognized-text">è­˜åˆ¥çµæœï¼š</label>
                    <input type="text" id="recognized-text" placeholder="ä¾‹å¦‚ï¼šå§ã€æ˜¯å§ã€ä¸ƒã€ä¹">
                </div>
                <div class="form-group">
                    <label for="question-text">é¡Œç›®ï¼š</label>
                    <input type="text" id="question-text" placeholder="ä¾‹å¦‚ï¼š2 Ã— 4 = (?)">
                </div>
                <button class="btn" onclick="addManualLog()">â• æ–°å¢éŒ¯èª¤è¨˜éŒ„</button>
            </div>

            <!-- è‡ªå‹•æ¸¬è©¦å€åŸŸ -->
            <div class="section">
                <h2>ğŸš€ è‡ªå‹•æ¸¬è©¦æ¡ˆä¾‹</h2>
                <p style="margin-bottom: 20px; color: #666;">é»æ“Šä¸‹æ–¹æŒ‰éˆ•å¿«é€Ÿç”Ÿæˆä¸åŒé¡å‹çš„æ¸¬è©¦æ•¸æ“šï¼š</p>
                <div class="auto-test-grid">
                    <button class="btn" onclick="addTestCase('å…«', 'å§', '2 Ã— 4 = (?)')">ã€Œå…«ã€â†’ã€Œå§ã€</button>
                    <button class="btn" onclick="addTestCase('å››å…«', 'æ˜¯å§', '6 Ã— 8 = (?)')">ã€Œå››å…«ã€â†’ã€Œæ˜¯å§ã€</button>
                    <button class="btn" onclick="addTestCase('å››', 'æ˜¯', '3 Ã— (?) = 12')">ã€Œå››ã€â†’ã€Œæ˜¯ã€</button>
                    <button class="btn" onclick="addTestCase('ä¸ƒ', 'å¥‡', '7 Ã— 3 = (?)')">ã€Œä¸ƒã€â†’ã€Œå¥‡ã€</button>
                    <button class="btn" onclick="addTestCase('ä¹', 'é³©', '9 Ã— 6 = (?)')">ã€Œä¹ã€â†’ã€Œé³©ã€</button>
                    <button class="btn" onclick="addTestCase('å…­', 'æµ', '2 Ã— 3 = (?)')">ã€Œå…­ã€â†’ã€Œæµã€</button>
                    <button class="btn" onclick="addTestCase('äºŒåå››', '24', '8 Ã— 3 = (?)')">æ•¸å­—æ··åˆ</button>
                    <button class="btn" onclick="generateRandomTests()">ğŸ² ç”Ÿæˆéš¨æ©Ÿæ¸¬è©¦</button>
                </div>
            </div>

            <!-- æ—¥èªŒç®¡ç†å€åŸŸ -->
            <div class="section">
                <h2>ğŸ—‚ï¸ æ—¥èªŒç®¡ç† <span class="log-count" id="log-count">0 ç­†è¨˜éŒ„</span></h2>
                <div style="margin-bottom: 20px;">
                    <button class="btn" onclick="refreshLogs()">ğŸ”„ é‡æ–°è¼‰å…¥</button>
                    <button class="btn btn-secondary" onclick="exportCSV()">ğŸ“Š åŒ¯å‡º CSV</button>
                    <button class="btn btn-danger" onclick="clearAllLogs()">ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰æ—¥èªŒ</button>
                </div>

                <div id="logs-container">
                    <div class="no-data">å°šç„¡æ—¥èªŒè¨˜éŒ„</div>
                </div>
            </div>

            <!-- çµ±è¨ˆè³‡è¨Šå€åŸŸ -->
            <div class="section">
                <h2>ğŸ“ˆ çµ±è¨ˆè³‡è¨Š</h2>
                <div id="stats-container" class="stats-grid">
                    <div class="no-data">è¼‰å…¥çµ±è¨ˆè³‡è¨Šä¸­...</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // VoiceLogger é¡åˆ¥
        class VoiceLogger {
            constructor() {
                this.logKey = 'voice-recognition-errors';
                this.maxLogs = 100; // æœ€å¤šä¿å­˜ 100 ç­†è¨˜éŒ„
            }

            // è¨˜éŒ„èªéŸ³è­˜åˆ¥éŒ¯èª¤
            logError(correctAnswer, recognizedText, question) {
                const logs = this.getLogs();
                const timestamp = new Date();

                const logEntry = {
                    id: timestamp.getTime(),
                    timestamp: timestamp.toISOString(),
                    date: timestamp.toLocaleDateString('zh-TW'),
                    time: timestamp.toLocaleTimeString('zh-TW', { hour12: false }),
                    correctAnswer: correctAnswer,
                    recognizedText: recognizedText,
                    question: question,
                    userAgent: navigator.userAgent.includes('iPad') ? 'iPad' :
                              navigator.userAgent.includes('iPhone') ? 'iPhone' : 'Desktop'
                };

                logs.push(logEntry);

                // é™åˆ¶æ—¥èªŒæ•¸é‡ï¼Œç§»é™¤æœ€èˆŠçš„è¨˜éŒ„
                if (logs.length > this.maxLogs) {
                    logs.shift();
                }

                localStorage.setItem(this.logKey, JSON.stringify(logs));
                console.log('èªéŸ³éŒ¯èª¤å·²è¨˜éŒ„:', logEntry);
                return logEntry;
            }

            // å–å¾—æ‰€æœ‰æ—¥èªŒ
            getLogs() {
                const logs = localStorage.getItem(this.logKey);
                return logs ? JSON.parse(logs) : [];
            }

            // å–å¾—æ—¥èªŒç¸½æ•¸
            getLogCount() {
                return this.getLogs().length;
            }

            // æ¸…é™¤æ‰€æœ‰æ—¥èªŒ
            clearLogs() {
                localStorage.removeItem(this.logKey);
            }

            // åŒ¯å‡ºç‚º CSV æ ¼å¼
            exportAsCSV() {
                const logs = this.getLogs();
                if (logs.length === 0) {
                    return 'æ²’æœ‰æ—¥èªŒè³‡æ–™';
                }

                const headers = ['æ—¥æœŸ', 'æ™‚é–“', 'æ­£ç¢ºç­”æ¡ˆ', 'è­˜åˆ¥çµæœ', 'é¡Œç›®', 'è£ç½®'];
                const csvRows = [headers.join(',')];

                logs.forEach(log => {
                    const row = [
                        log.date,
                        log.time,
                        log.correctAnswer,
                        `"${log.recognizedText}"`, // ç”¨å¼•è™ŸåŒ…åœé¿å… CSV å•é¡Œ
                        `"${log.question}"`,
                        log.userAgent
                    ];
                    csvRows.push(row.join(','));
                });

                return csvRows.join('\n');
            }

            // å–å¾—çµ±è¨ˆè³‡æ–™
            getStats() {
                const logs = this.getLogs();
                const stats = {
                    total: logs.length,
                    byAnswer: {},
                    byRecognized: {},
                    recent: logs.slice(-10) // æœ€è¿‘ 10 ç­†
                };

                logs.forEach(log => {
                    // æŒ‰æ­£ç¢ºç­”æ¡ˆçµ±è¨ˆ
                    if (!stats.byAnswer[log.correctAnswer]) {
                        stats.byAnswer[log.correctAnswer] = [];
                    }
                    stats.byAnswer[log.correctAnswer].push(log.recognizedText);

                    // æŒ‰è­˜åˆ¥æ–‡å­—çµ±è¨ˆ
                    if (!stats.byRecognized[log.recognizedText]) {
                        stats.byRecognized[log.recognizedText] = 0;
                    }
                    stats.byRecognized[log.recognizedText]++;
                });

                return stats;
            }
        }

        // åˆå§‹åŒ–æ—¥èªŒç³»çµ±
        const voiceLogger = new VoiceLogger();

        // é é¢è¼‰å…¥æ™‚åˆ·æ–°é¡¯ç¤º
        document.addEventListener('DOMContentLoaded', function() {
            refreshLogs();
            updateStats();
            updateLogCount();
        });

        // æ‰‹å‹•æ–°å¢æ—¥èªŒè¨˜éŒ„
        function addManualLog() {
            const correctAnswer = document.getElementById('correct-answer').value;
            const recognizedText = document.getElementById('recognized-text').value;
            const questionText = document.getElementById('question-text').value;

            if (!correctAnswer || !recognizedText || !questionText) {
                showToast('è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½', 'error');
                return;
            }

            const logEntry = voiceLogger.logError(parseInt(correctAnswer), recognizedText, questionText);

            // æ¸…ç©ºè¡¨å–®
            document.getElementById('correct-answer').value = '';
            document.getElementById('recognized-text').value = '';
            document.getElementById('question-text').value = '';

            showToast('âœ… å·²æ–°å¢éŒ¯èª¤è¨˜éŒ„');
            refreshLogs();
            updateStats();
            updateLogCount();
        }

        // æ–°å¢æ¸¬è©¦æ¡ˆä¾‹
        function addTestCase(correctAnswer, recognizedText, questionText) {
            const logEntry = voiceLogger.logError(correctAnswer, recognizedText, questionText);
            showToast(`âœ… å·²æ–°å¢æ¸¬è©¦æ¡ˆä¾‹: ${recognizedText}`);
            refreshLogs();
            updateStats();
            updateLogCount();
        }

        // ç”Ÿæˆéš¨æ©Ÿæ¸¬è©¦æ•¸æ“š
        function generateRandomTests() {
            const testCases = [
                {correct: '8', recognized: 'å§', question: '2 Ã— 4 = (?)'},
                {correct: '48', recognized: 'æ˜¯å§', question: '6 Ã— 8 = (?)'},
                {correct: '4', recognized: 'æ˜¯', question: '2 Ã— 2 = (?)'},
                {correct: '7', recognized: 'å¥‡', question: '7 Ã— 1 = (?)'},
                {correct: '9', recognized: 'é³©', question: '3 Ã— 3 = (?)'},
                {correct: '6', recognized: 'æµ', question: '2 Ã— 3 = (?)'},
                {correct: '12', recognized: 'åäºŒ', question: '4 Ã— 3 = (?)'},
                {correct: '15', recognized: 'äº”å', question: '3 Ã— 5 = (?)'},
                {correct: '21', recognized: 'äºŒä¸€', question: '7 Ã— 3 = (?)'},
                {correct: '36', recognized: 'ä¸‰æµ', question: '6 Ã— 6 = (?)'}
            ];

            // éš¨æ©Ÿé¸æ“‡ 3-5 å€‹æ¸¬è©¦æ¡ˆä¾‹
            const count = Math.floor(Math.random() * 3) + 3;
            const selectedCases = testCases.sort(() => 0.5 - Math.random()).slice(0, count);

            selectedCases.forEach((testCase, index) => {
                setTimeout(() => {
                    voiceLogger.logError(testCase.correct, testCase.recognized, testCase.question);
                }, index * 100); // é–“éš” 100ms æ·»åŠ 
            });

            setTimeout(() => {
                showToast(`ğŸ² å·²ç”Ÿæˆ ${count} ç­†éš¨æ©Ÿæ¸¬è©¦æ•¸æ“š`);
                refreshLogs();
                updateStats();
                updateLogCount();
            }, count * 100 + 100);
        }

        // åˆ·æ–°æ—¥èªŒé¡¯ç¤º
        function refreshLogs() {
            const logs = voiceLogger.getLogs();
            const container = document.getElementById('logs-container');

            if (logs.length === 0) {
                container.innerHTML = '<div class="no-data">å°šç„¡æ—¥èªŒè¨˜éŒ„</div>';
                return;
            }

            // æŒ‰æ™‚é–“å€’åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
            const sortedLogs = logs.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            const tableHTML = `
                <table class="log-table">
                    <thead>
                        <tr>
                            <th>æ—¥æœŸæ™‚é–“</th>
                            <th>æ­£ç¢ºç­”æ¡ˆ</th>
                            <th>è­˜åˆ¥çµæœ</th>
                            <th>é¡Œç›®</th>
                            <th>è£ç½®</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${sortedLogs.map(log => `
                            <tr>
                                <td>${log.date} ${log.time}</td>
                                <td style="font-weight: bold; color: #4facfe;">${log.correctAnswer}</td>
                                <td style="color: #ff6b6b;">${log.recognizedText}</td>
                                <td>${log.question}</td>
                                <td>${log.userAgent}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;

            container.innerHTML = tableHTML;
        }

        // æ›´æ–°çµ±è¨ˆè³‡è¨Š
        function updateStats() {
            const stats = voiceLogger.getStats();
            const container = document.getElementById('stats-container');

            if (stats.total === 0) {
                container.innerHTML = '<div class="no-data">å°šç„¡çµ±è¨ˆè³‡æ–™</div>';
                return;
            }

            // è™•ç†çµ±è¨ˆæ•¸æ“š
            const topMisrecognitions = Object.entries(stats.byRecognized)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 10);

            const topProblematicAnswers = Object.entries(stats.byAnswer)
                .sort(([,a], [,b]) => b.length - a.length)
                .slice(0, 10);

            const statsHTML = `
                <div class="stats-card">
                    <h3>ğŸ“Š ç¸½é«”çµ±è¨ˆ</h3>
                    <div class="stats-item">
                        <span>ç¸½è¨˜éŒ„æ•¸ï¼š</span>
                        <strong>${stats.total} ç­†</strong>
                    </div>
                    <div class="stats-item">
                        <span>ä¸åŒç­”æ¡ˆæ•¸ï¼š</span>
                        <strong>${Object.keys(stats.byAnswer).length} å€‹</strong>
                    </div>
                    <div class="stats-item">
                        <span>ä¸åŒèª¤è­˜åˆ¥ï¼š</span>
                        <strong>${Object.keys(stats.byRecognized).length} ç¨®</strong>
                    </div>
                </div>

                <div class="stats-card">
                    <h3>ğŸ¯ å¸¸è¦‹èª¤è­˜åˆ¥</h3>
                    ${topMisrecognitions.length > 0 ?
                        topMisrecognitions.map(([text, count]) => `
                            <div class="stats-item">
                                <span>ã€Œ${text}ã€</span>
                                <strong>${count} æ¬¡</strong>
                            </div>
                        `).join('') :
                        '<div class="no-data">æš«ç„¡è³‡æ–™</div>'
                    }
                </div>

                <div class="stats-card">
                    <h3>âš ï¸ å•é¡Œç­”æ¡ˆ</h3>
                    ${topProblematicAnswers.length > 0 ?
                        topProblematicAnswers.map(([answer, errors]) => `
                            <div class="stats-item">
                                <span>ç­”æ¡ˆã€Œ${answer}ã€</span>
                                <strong>${errors.length} æ¬¡éŒ¯èª¤</strong>
                            </div>
                        `).join('') :
                        '<div class="no-data">æš«ç„¡è³‡æ–™</div>'
                    }
                </div>

                <div class="stats-card">
                    <h3>ğŸ•’ æœ€è¿‘è¨˜éŒ„</h3>
                    ${stats.recent.length > 0 ?
                        stats.recent.slice(0, 5).map(log => `
                            <div class="stats-item">
                                <span>${log.correctAnswer} â†’ ${log.recognizedText}</span>
                                <small>${log.time}</small>
                            </div>
                        `).join('') :
                        '<div class="no-data">æš«ç„¡è³‡æ–™</div>'
                    }
                </div>
            `;

            container.innerHTML = statsHTML;
        }

        // æ›´æ–°æ—¥èªŒè¨ˆæ•¸
        function updateLogCount() {
            const count = voiceLogger.getLogCount();
            document.getElementById('log-count').textContent = `${count} ç­†è¨˜éŒ„`;
        }

        // åŒ¯å‡º CSV
        function exportCSV() {
            const csvContent = voiceLogger.exportAsCSV();

            if (csvContent === 'æ²’æœ‰æ—¥èªŒè³‡æ–™') {
                showToast('âŒ æ²’æœ‰æ—¥èªŒè³‡æ–™å¯ä»¥åŒ¯å‡º', 'error');
                return;
            }

            // è¤‡è£½åˆ°å‰ªè²¼ç°¿
            navigator.clipboard.writeText(csvContent).then(() => {
                showToast('ğŸ“‹ CSV è³‡æ–™å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼Œå¯ä»¥è²¼åˆ° Excel æˆ– Google Sheets');
            }).catch(() => {
                // å¦‚æœè¤‡è£½å¤±æ•—ï¼Œå‰µå»ºä¸‹è¼‰é€£çµ
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', `voice-recognition-errors-${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                showToast('ğŸ“¥ CSV æª”æ¡ˆå·²ä¸‹è¼‰');
            });
        }

        // æ¸…é™¤æ‰€æœ‰æ—¥èªŒ
        function clearAllLogs() {
            if (confirm('âš ï¸ ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰æ—¥èªŒè¨˜éŒ„å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚')) {
                voiceLogger.clearLogs();
                showToast('ğŸ—‘ï¸ æ‰€æœ‰æ—¥èªŒè¨˜éŒ„å·²æ¸…é™¤');
                refreshLogs();
                updateStats();
                updateLogCount();
            }
        }

        // é¡¯ç¤ºæç¤ºè¨Šæ¯
        function showToast(message, type = 'success') {
            // ç§»é™¤ç¾æœ‰çš„ toast
            const existingToast = document.querySelector('.toast');
            if (existingToast) {
                existingToast.remove();
            }

            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;

            if (type === 'error') {
                toast.style.background = '#ff6b6b';
            }

            document.body.appendChild(toast);

            // è§¸ç™¼å‹•ç•«
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);

            // 3ç§’å¾Œç§»é™¤
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>